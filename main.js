(()=>{"use strict";var n={299:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Bungee&family=Fredoka+One&family=Moo+Lah+Lah&family=Permanent+Marker&family=Press+Start+2P&display=swap);"]),a.push([n.id,"*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\nbody {\n  min-width: 100vw;\n  min-height: 100vh;\n  background-color: black;\n}\n\nheader {\n  display: flex;\n  justify-content: center;\n  padding: 2rem;\n  font-size: 2.2rem;\n  font-family: 'Press Start 2P', cursive;\n  color: rgb(0, 183, 255);\n  background-color: black;\n  text-shadow: rgb(255, 255, 255) 2px 2px;\n}\n\n.battleship {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  grid-auto-rows: 16px;\n  width: 160px;\n}\n\n.battleship-spot {\n  border: 1px solid white;\n}\n.battleship-spot:hover {\n  background-color: rgb(253, 228, 1);\n}\n.pre-game-container {\n  display: flex;\n  justify-content: center;\n  gap: 0.7rem;\n  padding: 0.5rem;\n  margin-top: 5rem;\n}\n.options {\n  display: flex;\n  flex-flow: column nowrap;\n  gap: 2rem;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n.switch-direction {\n  position: relative;\n  background-color: white;\n  color: rgb(253, 143, 0);\n  padding: 0.8rem;\n  border-radius: 5px;\n  font-size: 1.05rem;\n  font-weight: bold;\n  font-family: 'Fredoka One', cursive;\n  transition: all 0.35s ease-in-out;\n  text-shadow: 0 0 2px rgb(253, 143, 0);\n  z-index: 0;\n}\n.switch-direction:hover {\n  color: white;\n  text-shadow: 0 0 2px white;\n}\n.switch-direction::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transform: scale(0);\n  background-color: rgb(253, 143, 0);\n  transition: transform 0.3s ease-in-out;\n  border-radius: 5px;\n  z-index: -1;\n}\n.switch-direction:hover::before {\n  transform: scale(1);\n}\n\n.ships-to-place {\n  display: flex;\n  justify-content: center;\n  flex-flow: row wrap;\n  width: 10rem;\n  padding: 1rem;\n  gap: 0.5rem;\n  border: 1px solid white;\n}\n\n.ship {\n  height: fit-content;\n  display: flex;\n  flex-flow: row nowrap;\n}\n.ship-position {\n  background-color: rgb(0, 183, 255);\n  width: 16px;\n  border: 1px solid white;\n  height: 16px;\n}\n.start-game-container {\n  margin-top: 3rem;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-flow: column nowrap;\n  gap: 1.5rem;\n}\n.options > h2 {\n  color: white;\n  font-family: 'Permanent Marker', cursive;\n  text-shadow: 0 0 4px white;\n}\nform {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: row nowrap;\n  gap: 0.5rem;\n}\nlabel[for='player-name'] {\n  color: white;\n  font-family: 'Fredoka One', cursive;\n  text-shadow: 0 0 2px white;\n}\ninput {\n  font-family: 'Permanent Marker', cursive;\n  font-size: 1rem;\n}\n.start-game,\n.rematch-button {\n  position: relative;\n  background-color: rgb(0, 183, 255);\n  color: white;\n  font-size: 1.2rem;\n  border-radius: 5px;\n  padding: 0.5rem 0.7rem;\n  font-family: 'Fredoka One', cursive;\n  border-radius: 5px;\n  z-index: 0;\n  text-shadow: 0 0 4px white;\n  transition: all 0.5s ease-in-out;\n}\n.start-game:hover,\n.rematch-button:hover {\n  color: black;\n  text-shadow: 0 0 4px black;\n}\n.start-game::before,\n.rematch-button::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transform: scaleX(0);\n  transform-origin: left;\n  background-color: rgb(0, 255, 200);\n  border-radius: 5px;\n  z-index: -1;\n  transition: transform 0.5s ease-in-out;\n}\n\n.start-game:hover::before,\n.rematch-button:hover::before {\n  transform: scaleX(1);\n}\n\nbutton {\n  outline: none;\n  border: none;\n}\nh2 {\n  font-size: 1.4rem;\n  font-weight: bold;\n}\n\n.allowed {\n  background-color: rgb(0, 255, 200);\n}\nlabel {\n  font-size: 1.3rem;\n  font-weight: bold;\n}\n\n.game-container {\n  text-align: center;\n  margin-top: 2.5rem;\n  display: flex;\n  gap: 1.2rem;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n}\n\n.battleships-container {\n  margin-top: 0.5rem;\n  width: 100%;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-evenly;\n  gap: 2rem;\n}\n.rematch-button {\n  margin-top: 1rem;\n}\n\n.computer-container,\n.player-container {\n  width: 50%;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column nowrap;\n  gap: 2rem;\n}\n.computer-container > h2,\n.player-container > h2 {\n  color: white;\n  font-family: 'Permanent Marker', cursive;\n  text-shadow: 0 0 3px white;\n}\n.player-container {\n  pointer-events: none;\n}\n\n.game-over {\n  color: white;\n  font-size: 1.2rem;\n  text-shadow: 0 0 4px white;\n  font-family: 'Bungee', cursive;\n}\n@media only screen and (min-width: 540px) {\n  .battleship {\n    grid-auto-rows: 25px;\n    width: 250px;\n  }\n  .ship-position {\n    width: 25px;\n    height: 25px;\n  }\n\n  .ships-to-place {\n    width: 13rem;\n  }\n}\n@media only screen and (min-width: 768px) {\n  .battleship {\n    grid-auto-rows: 30px;\n    width: 300px;\n  }\n  .ship-position {\n    width: 30px;\n    height: 30px;\n  }\n\n  .ships-to-place {\n    width: 16rem;\n  }\n  body {\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: center;\n  }\n\n  header {\n    font-size: 3rem;\n  }\n  input {\n    font-size: 1.6rem;\n  }\n  .pre-game-container {\n    gap: 2rem;\n  }\n  .switch-direction {\n    font-size: 1.4rem;\n  }\n  .start-game,\n  .rematch-button {\n    font-size: 2rem;\n    padding: 0.9rem 1.2rem;\n  }\n  label {\n    font-size: 1.5rem;\n  }\n  .options > h2 {\n    font-size: 1.8rem;\n  }\n\n  .game-over {\n    font-size: 1.8rem;\n  }\n  .computer-container > h2,\n  .player-container > h2 {\n    font-size: 1.7rem;\n  }\n}\n@media only screen and (min-width: 1024px) {\n  .battleship {\n    grid-auto-rows: 40px;\n    width: 400px;\n  }\n  .ship-position {\n    width: 40px;\n    height: 40px;\n  }\n\n  .ships-to-place {\n    width: 18rem;\n  }\n  body {\n    gap: 3.5rem;\n    margin-bottom: 1.3rem;\n  }\n  header {\n    font-size: 3.3rem;\n  }\n\n  .pre-game-container {\n    gap: 2.2rem;\n  }\n  .switch-direction {\n    font-size: 2rem;\n  }\n  .start-game,\n  .rematch-button {\n    font-size: 2.2rem;\n  }\n  label {\n    font-size: 2.1rem;\n  }\n  .options > h2 {\n    font-size: 2rem;\n  }\n\n  .game-over {\n    font-size: 2rem;\n  }\n  .computer-container > h2,\n  .player-container > h2 {\n    font-size: 1.9rem;\n  }\n  .battleships-container {\n    justify-content: center;\n    gap: 4rem;\n  }\n}\n",""]);const s=a},917:(n,e,t)=>{t.d(e,{Z:()=>s});var r=t(81),o=t.n(r),i=t(645),a=t.n(i)()(o());a.push([n.id,"html,\nbody,\ndiv,\nspan,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\nabbr,\naddress,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\nsamp,\nsmall,\nstrong,\nsub,\nsup,\nvar,\nb,\ni,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  background: transparent;\n}\n\nbody {\n  line-height: 1;\n}\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\n\nnav ul {\n  list-style: none;\n}\n\nblockquote,\nq {\n  quotes: none;\n}\n\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\n\na {\n  margin: 0;\n  padding: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n  background: transparent;\n}\n\n/* change colours to suit your needs */\nins {\n  background-color: #ff9;\n  color: #000;\n  text-decoration: none;\n}\n\n/* change colours to suit your needs */\nmark {\n  background-color: #ff9;\n  color: #000;\n  font-style: italic;\n  font-weight: bold;\n}\n\ndel {\n  text-decoration: line-through;\n}\n\nabbr[title],\ndfn[title] {\n  border-bottom: 1px dotted;\n  cursor: help;\n}\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n/* change border colour to suit your needs */\nhr {\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: 1px solid #cccccc;\n  margin: 1em 0;\n  padding: 0;\n}\n\ninput,\nselect {\n  vertical-align: middle;\n}\n",""]);const s=a},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=t(u),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var f=o(m,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=t(i[a]);e[s].references--}for(var c=r(n,o),l=0;l<i.length;l++){var d=t(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=c}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return n[r](i,i.exports,t),i.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n=t(379),e=t.n(n),r=t(795),o=t.n(r),i=t(569),a=t.n(i),s=t(565),c=t.n(s),l=t(216),d=t.n(l),u=t(589),p=t.n(u),m=t(917),f={};f.styleTagTransform=p(),f.setAttributes=c(),f.insert=a().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),e()(m.Z,f),m.Z&&m.Z.locals&&m.Z.locals;var h=t(299),b={};function g(n){const e=n,t=[],r=[[],[],[],[],[],[],[],[],[],[]],o=[];function i(n){if(!function(n){for(let e=0;e<n.length;e+=1){const t=n[e],[r,o]=t;if(r>9||r<0||o>9||o<0)return!1}return!0}(n)||!function(n){return new Set(n.map((n=>JSON.stringify(n)))).size===n.length}(n))return!1;for(let e=0;e<n.length;e+=1){const t=n[e],[o,i]=t;if(r[o][i])return!1}return!0}function a(...n){if(!i(n))return;const e=function(n){if(n<=0)return null;const e=[];return{length:n,hits:e,isSunk:function(){return e.length===n},isHit:function(n){return e.includes(n)},hit:function(t){t>=n||t<0||e.includes(t)||e.push(t)}}}(n.length);t.push(e);for(let t=0;t<n.length;t+=1){const o=n[t],[i,a]=o;r[i][a]=[e,t]}}function s(n){return Math.floor(Math.random()*n)}function c([n,e],t){if(e+(t-1)>9)return!1;for(let o=0;o<t;o+=1)if(r[n][e+o])return!1;return!0}function l([n,e],t){if(n+(t-1)>9)return!1;for(let o=0;o<t;o+=1)if(r[n+o][e])return!1;return!0}function d([n,e],t){const r=[];for(let o=0;o<t;o+=1)r.push([n+o,e]);a(...r)}function u([n,e],t){const r=[];for(let o=0;o<t;o+=1)r.push([n,e+o]);a(...r)}return{placeShip:a,missedCoordinates:o,coordinates:r,receiveAttack:function(n,e){if(function(n,e){return!(n>9||n<0||e>9||e<0)}(n,e))if(void 0===r[n][e])o.push([n,e]);else{const[t,o]=r[n][e];t.hit(o)}},allShipsAreSunk:function(){for(let n=0;n<t.length;n+=1)if(!t[n].isSunk())return!1;return!0},printShipToConsole:function(){let n="";for(let e=0;e<r.length;e+=1){for(let t=0;t<r.length;t+=1)n+=r[e][t]?"X ":"O ";n+="\n"}console.log(n)},placeShipRandomly:function(n){if(n>10||n<=0)return;const e=(s(6)+1)%2==0?"vertical":"horizontal";for(;;){const t=s(10),r=s(10);if("vertical"===e){if(!l([t,r],n))continue;d([t,r],n);break}if(c([t,r],n)){u([t,r],n);break}}},ships:t,coordinatesAreAllowed:i,getCoordinates:function(n,e,t){const r=[];if("Vertical"===t)for(let t=0;t<e;t+=1)r.push([n[0]+t,n[1]]);else for(let t=0;t<e;t+=1)r.push([n[0],n[1]+t]);return r},setName:function(n){e=n},getName:function(){return e}}}function y(n){let e=n;const t=[],r=[];function o(n,e){for(let r=0;r<t.length;r++){const[o,i]=t[r];if(o===n&&i===e)return!0}return!1}function i(){return Math.floor(10*Math.random())}function a(n){for(;;){const e=i(),a=i();if(!o(e,a))return t.push([e,a]),n.receiveAttack(e,a),void(n.coordinates[e][a]&&r.push([e,a]))}}function s(n,e){return n>=0&&n<10&&e>=0&&e<10}function c(){for(let n=0;n<r.length;n+=1){const[e,t]=r[n];if(!o(e,t-1)&&s(e,t-1))return[e,t-1];if(!o(e,t+1)&&s(e,t+1))return[e,t+1];if(!o(e-1,t)&&s(e-1,t))return[e-1,t];if(!o(e+1,t)&&s(e+1,t))return[e+1,t]}}return{getName:function(){return e},setName:function(n){e=n},gameBoard:g(),attack:function([n,e],r){o(n,e)||(t.push([n,e]),r.receiveAttack(n,e))},attacks:t,computerAttack:function(n){if(0===r.length)a(n);else if(c()){const[e,o]=c();t.push([e,o]),n.receiveAttack(e,o),n.coordinates[e][o]&&r.push([e,o])}else a(n)},hasHit:function(n,e){for(let r=0;r<t.length;r+=1){const o=t[r],[i,a]=o;if(i===n&&a===e)return!0}return!1}}}b.styleTagTransform=p(),b.setAttributes=c(),b.insert=a().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=d(),e()(h.Z,b),h.Z&&h.Z.locals&&h.Z.locals;const v={events:{},subscribe(n,e){this.events[n]=this.events[n]||[],this.events[n].push(e)},publish(n,e){this.events[n]&&this.events[n].forEach((n=>n(e)))},unsubscribe(n,e){this.events[n]&&(this.events[n]=this.events[n].filter((n=>n!==e)))}};let x=null;function w(n,e){for(let t=0;t<n.length;t+=1)e.appendChild(n[t])}function k(n){const e=document.querySelectorAll(".ship");"Horizontal"===n.target.textContent?(e.forEach((n=>n.style.flexFlow="column wrap")),n.target.textContent="Vertical"):(e.forEach((n=>n.style.flexFlow="row wrap")),n.target.textContent="Horizontal")}function S(n){n.preventDefault();const e=document.querySelector(".switch-direction").textContent,t=D.gameBoard.getCoordinates([+n.target.getAttribute("x-position"),+n.target.getAttribute("y-position")],x,e);D.gameBoard.coordinatesAreAllowed(t)&&function(n){for(let e=0;e<n.length;e+=1)document.querySelector(`[x-position = "${n[e][0]}"][y-position = "${n[e][1]}"]`).classList.add("allowed")}(t)}function E(n){n.preventDefault();const e=String(n.dataTransfer.getData("text/plain")).split(" "),t=document.querySelector(".switch-direction").textContent,r=D.gameBoard.getCoordinates([+n.target.getAttribute("x-position"),+n.target.getAttribute("y-position")],e[1],t);if(D.gameBoard.coordinatesAreAllowed(r)){const n=document.querySelector(`#${e[0]}`);n.parentNode.removeChild(n),v.publish("User placed valid ship coordinates",r)}}function C(n){n.preventDefault()}function A(n){const e=document.querySelectorAll(".allowed");0!==e.length&&e.forEach((n=>n.classList.remove("allowed")))}function L(n,e){e.textContent="";for(let t=0;t<10;t+=1)for(let r=0;r<10;r+=1){const o=document.createElement("div");o.addEventListener("dragenter",C),o.addEventListener("dragover",S),o.addEventListener("dragleave",A),o.addEventListener("drop",E),o.classList.add("battleship-spot"),o.setAttribute("x-position",t),o.setAttribute("y-position",r),n.gameBoard.coordinates[t][r]&&(o.style.background="rgb(0, 183, 255)"),e.appendChild(o)}}function z(n,e){const t=document.createElement("div");var r;t.classList.add("ship"),t.setAttribute("draggable","true"),t.setAttribute("id",`${e}`),t.setAttribute("length",`${n}`),(r=t).addEventListener("dragstart",(n=>{n.dataTransfer.setData("text/plain",`${n.target.id} ${r.getAttribute("length")}`),x=r.getAttribute("length")}));for(let e=0;e<n;e+=1){const n=document.createElement("div");n.classList.add("ship-position"),t.appendChild(n)}return t}function q(){5===D.gameBoard.ships.length&&v.publish("User clicked start game",document.querySelector("#player-name").value)}function B(n,e,t,r){const o=document.createElement("div"),i=document.createElement("h2");i.textContent=t.getName(),o.classList.add(`${n}`);const a=document.createElement("div");return a.classList.add("battleship"),e(a,t,r),w([i,a],o),o}function P(n,e,t){n.textContent="";for(let r=0;r<10;r+=1)for(let o=0;o<10;o+=1){const i=document.createElement("div");i.classList.add("battleship-spot"),e.gameBoard.coordinates[r][o]&&t.hasHit(r,o)?i.style.background="rgb(255, 60, 0)":e.gameBoard.coordinates[r][o]?i.style.background="rgb(0, 183, 255)":t.hasHit(r,o)&&(i.style.background="rgb(0, 255, 64)"),n.appendChild(i)}}function M(n){const e=n.target,t=+e.getAttribute("x-position"),r=+e.getAttribute("y-position");v.publish("Enemy was attacked",[t,r])}function j(n,e,t){n.textContent="";for(let r=0;r<10;r+=1)for(let o=0;o<10;o+=1){const i=document.createElement("div");i.classList.add("battleship-spot"),i.setAttribute("x-position",`${r}`),i.setAttribute("y-position",`${o}`),e.gameBoard.coordinates[r][o]&&t.hasHit(r,o)?i.style.background="rgb(255, 60, 0)":t.hasHit(r,o)?i.style.background="rgb(0, 255, 64)":i.addEventListener("click",M),n.appendChild(i)}}function T(){v.publish("User clicked restart game")}function N(n){const e=document.querySelector(".game-over");document.querySelector(".computer-container > .battleship").style.pointerEvents="none",n.getName().includes("Enemy")?e.textContent="You have lost :(":e.textContent="Congratulations, You have won!",e.style.color="white"}v.subscribe("loadPreGame",(function(n){const e=document.createElement("div");e.classList.add("pre-game-container");const t=document.createElement("div");t.classList.add("battleship"),L(n,t);const r=function(){const n=document.createElement("div");n.classList.add("options");const e=document.createElement("h2");e.textContent="Place Your Ships!";const t=document.createElement("button");t.addEventListener("click",k),t.classList.add("switch-direction"),t.textContent="Horizontal";const r=function(){const n=document.createElement("div");return n.classList.add("ships-to-place"),w([z(5,"Carrier"),z(4,"Battleship"),z(3,"Cruiser"),z(2,"Destroyer"),z(2,"Submarine")],n),n}();return w([e,t,r],n),n}(),o=function(){const n=document.createElement("div");n.classList.add("start-game-container");const e=function(){const n=document.createElement("form");n.setAttribute("novalidate",""),n.addEventListener("submit",(n=>{n.preventDefault()}));const e=document.createElement("label");e.setAttribute("for","player-name"),e.textContent="Name :";const t=document.createElement("input");return t.setAttribute("type","text"),t.setAttribute("name","player-name"),t.setAttribute("id","player-name"),t.setAttribute("required",""),w([e,t],n),n}();e.addEventListener("submit",q);const t=document.createElement("button");return t.classList.add("start-game"),t.textContent="Start Game!",t.addEventListener("click",q),w([e,t],n),n}();w([t,r],e),document.body.appendChild(e),document.body.appendChild(o)})),v.subscribe("updatePreGameBattleShip",(function(n){L(n,document.querySelector(".battleship"))})),v.subscribe("Destroy Pre-game Section",(function(){const n=document.querySelector(".pre-game-container");n.textContent="";const e=document.querySelector(".start-game-container");e.textContent="",document.body.removeChild(e),document.body.removeChild(n)})),v.subscribe("Start Game",(function([n,e]){const t=document.createElement("div");t.classList.add("game-container");const r=document.createElement("h2");r.classList.add("game-over");const o=document.createElement("button");o.classList.add("rematch-button"),o.textContent="Rematch",o.addEventListener("click",T);const i=function(n,e){const t=document.createElement("div");return t.classList.add("battleships-container"),w([B("player-container",P,n,e),B("computer-container",j,e,n)],t),t}(n,e);w([r,o,i],t),document.body.appendChild(t)})),v.subscribe("Update enemy board",(function([n,e]){j(document.querySelector(".computer-container > .battleship "),n,e)})),v.subscribe("Update player board",(function([n,e]){P(document.querySelector(".player-container > .battleship"),n,e)})),v.subscribe("Player has won",N),v.subscribe("Computer has won",N),v.subscribe("Destroy Gameboards Section",(function(){const n=document.querySelector(".game-container");n.textContent="",document.body.removeChild(n)}));let D=y("Player"),U=y("Enemy");v.publish("loadPreGame",D),v.subscribe("User placed valid ship coordinates",(function(n){D.gameBoard.placeShip(...n),v.publish("updatePreGameBattleShip",D)})),v.subscribe("User clicked start game",(function(n){n&&D.setName(n),D.gameBoard.printShipToConsole(),v.publish("Destroy Pre-game Section"),U.gameBoard.placeShipRandomly(5),U.gameBoard.placeShipRandomly(4),U.gameBoard.placeShipRandomly(3),U.gameBoard.placeShipRandomly(2),U.gameBoard.placeShipRandomly(2),v.publish("Start Game",[D,U])})),v.subscribe("Enemy was attacked",(function([n,e]){D.attack([n,e],U.gameBoard),v.publish("Update enemy board",[U,D]),U.gameBoard.allShipsAreSunk()?v.publish("Player has won",D):(U.computerAttack(D.gameBoard),v.publish("Update player board",[D,U]),D.gameBoard.allShipsAreSunk()&&v.publish("Computer has won",U))})),v.subscribe("User clicked restart game",(function(){v.publish("Destroy Gameboards Section"),D=y("Player"),U=y("Enemy"),v.publish("loadPreGame",D)}))})()})();